<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin</title>
    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet">
    <!-- local stylesheet -->
    <link rel="stylesheet" th:href="@{/style.css}">

</head>
<body class="body_main">
<!-- Bootstrap JS -->
<script crossorigin="anonymous"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<!-- Users Database-->

USERS

<table class="table_main">
    <tr>
        <th class="center middle">ID&nbsp;</th>
        <th class="center middle">First Name&nbsp;</th>
        <th class="center middle">Last Name&nbsp;</th>
        <th class="center middle">Borrowed Book&nbsp;</th>
    </tr>

    <tr th:each="u: ${users}">
        <td class="center middle" th:text="${u.id}"></td>
        <td class="center middle" th:text="${u.firstName}"></td>
        <td class="center middle" th:text="${u.lastName}"></td>
        <td class="center middle" th:text="${u.borrowedBook}"></td>
    </tr>
</table>

<!-- Books Database-->
BOOKS


<table class="table_main">
    <tr>
        <th class="center middle">ID&nbsp;</th>
        <th class="center middle">Title&nbsp;</th>
        <th class="center middle">Author&nbsp;</th>
        <th class="center middle">Genre&nbsp;</th>
        <th class="center middle">Available&nbsp;</th>
        <th class="center middle">Borrower</th>
    </tr>

    <tr th:each="u: ${books}">
        <td class="center middle" th:text="${u.id}"></td>
        <td class="center middle" th:text="${u.title}"></td>
        <td class="center middle" th:text="${u.author}"></td>
        <td class="center middle" th:text="${u.genre}"></td>
        <td class="center middle" th:text="${u.isAvailable} ? 'yes' : 'no'"></td>
        <td class="center middle" th:text="${u.borrowerName}"></td>
        <td class="center middle">
            <form method="post" th:action="@{/admin/deletebook}">
                <input name="_method" type="hidden" value="DELETE"/>
                <input name="bookId" th:value="${u.id}" type="hidden"/>
                <button type="submit">DELETE</button>
            </form>

        </td>

        <td class="center middle">
            <form method="get" th:action="@{/admin/editbook}">
                <input name="bookId" th:value="${u.id}" type="hidden"/>
                <button type="submit">EDIT</button>
            </form>
        </td>

    </tr>
    <!--TODO add edit and delete buttons-->
</table>

<form method="post" th:action="@{/admin/addbook}">
    Title <input name="title" type="text"/><br>
    Author <input name="author" type="text"/><br>
    Genre <input name="genre" type="text"/><br>
    <button class="btn btn-info" type="submit">Add Book</button>
</form>

<!-- *Logout Button -->
<form method="post" th:action="@{/adminlogout}">
    <button class="button--logout" type="submit">Logout</button>
</form>
</body>
</html>